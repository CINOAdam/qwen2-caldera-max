# Phase 0 validation: 2-bit uniform compression for Qwen2-1.5B
# Testing with fixed ridge_lambda and calibration enabled

model_id: Qwen/Qwen2-1.5B-Instruct
output_dir: artifacts/qwen2-1.5b/caldera-2bit-uniform

calibration:
  datasets:
    - name: c4
      weight: 1.0
  samples: 512
  sequence_length: 512
  progress_every: 100

caldera:
  bq: 2         # 2-bit Q (aggressive)
  bl: 4         # 4-bit L factor
  br: 4         # 4-bit R factor
  rank: 64
  group_size: 128
  calibration_batch_size: 1
  calibration_samples: 512
  use_calibration: true
  ridge_lambda: 1.0   # FIXED: was 0.0001, now 1.0 for numerical stability
  compute_device: cuda
  target_modules:
    - q_proj
    - k_proj
    - v_proj
    - o_proj
    - gate_proj
    - up_proj
    - down_proj
  use_rht: false
  lora_finetune: false

runtime:
  dtype: bf16
  device: cuda
